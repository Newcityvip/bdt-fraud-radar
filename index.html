<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BDT Fraud Radar</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="topbar">
        <div class="brand">
          <div class="logo">üö®</div>
          <div>
            <div class="titleRow">
              <h1>BDT Fraud Radar</h1>
              <span class="badge">Pro Table</span>
            </div>
            <div class="sub">Focus: accounts that need attention (MED/HIGH by default).</div>
          </div>
        </div>

        <div class="actions">
          <div id="status" class="status">Ready</div>
          <button id="reloadBtn" class="btn">Reload</button>
          <button id="exportBtn" class="btn">Export CSV</button>
          <button id="columnsBtn" class="btn">Columns</button>
        </div>
      </div>

      <div class="filters">
        <div class="field">
          <label>Days (Lookback)</label>
          <input id="days" type="number" min="1" max="30" value="3" />
        </div>

        <div class="field">
          <label>Min Risk Score</label>
          <input id="minScore" type="number" min="0" value="3" />
        </div>

        <div class="field">
          <label>Risk Level</label>
          <select id="riskLevel">
            <option value="ATTN">ATTN (MED/HIGH)</option>
            <option value="ALL">ALL</option>
            <option value="HIGH">HIGH</option>
            <option value="MED">MED</option>
            <option value="LOW">LOW</option>
          </select>
        </div>

        <div class="field fieldWide">
          <label>Search Username</label>
          <input id="searchUser" placeholder="type username..." />
        </div>

        <div class="field">
          <label>Page Size</label>
          <select id="pageSize">
            <option value="100">100</option>
            <option value="300" selected>300</option>
            <option value="500">500</option>
          </select>
        </div>

        <div class="field">
          <label>Auto Load</label>
          <select id="autoLoad">
            <option value="ON" selected>ON</option>
            <option value="OFF">OFF</option>
          </select>
        </div>
      </div>

      <div class="meta">
        <div class="hint">‚úÖ Sticky header + sticky Username | Loads from API in pages (fast) | Scroll down to auto-load more.</div>
        <div class="stats">
          <div class="chip"><span class="k">Loaded:</span> <span id="loadedCnt">0</span></div>
          <div class="chip"><span class="k">Total Matches:</span> <span id="totalCnt">0</span></div>
          <div class="chip"><span class="k">Showing:</span> <span id="showingCnt">0</span></div>
          <div class="chip"><span class="k">Offset:</span> <span id="offsetCnt">0</span></div>
        </div>
      </div>

      <div class="tableWrap" id="tableWrap">
        <table id="table">
          <thead>
            <tr id="theadRow"></tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>

        <div id="emptyState" class="empty" style="display:none;">
          <div class="emptyTitle">No results found</div>
          <div class="emptySub">
            Try lowering <b>Min Risk Score</b> or change <b>Risk Level</b> to ALL.
          </div>
        </div>
      </div>

      <div class="footerBar">
        <button id="loadMoreBtn" class="btn btnPrimary">Load More</button>
        <div class="smallMuted">Tip: For faster view, keep ‚ÄúATTN (MED/HIGH)‚Äù and Min Score 3‚Äì4.</div>
      </div>
    </div>
  </div>

  <!-- Columns Modal -->
  <div id="modal" class="modal" style="display:none;">
    <div class="modalCard">
      <div class="modalTop">
        <div class="modalTitle">Columns</div>
        <button id="closeModal" class="btn">Close</button>
      </div>
      <div id="colList" class="colList"></div>
      <div class="modalBottom">
        <button id="showAllCols" class="btn">Show All</button>
        <button id="hideSomeCols" class="btn">Compact View</button>
      </div>
    </div>
  </div>

  <script src="./app.js"></script>
</body>
</html>
